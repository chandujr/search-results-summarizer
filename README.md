# Search Results Summarizer

AI-powered search results summary generator for local search engine instances (like SearXNG or 4get) using OpenRouter. Works transparently with your existing search engine installation.

## Installation

### Option 1: Using the Docker Image

1. Create a configuration directory:
   ```bash
   mkdir -p ./search-results-summarizer/config
   cd ./search-results-summarizer
   ```

2. Run the container:
   ```bash
   docker run -d --name search-results-summarizer \
     -p 3000:3000 \
     -v "./config:/config" \
     ghcr.io/chandujr/search-results-summarizer:latest
   ```

3. Configure the service:
   ```bash
   # Edit the configuration files
   nano ./config/config.yaml
   nano ./config/.env
   ```

4. Restart the container to apply changes:
   ```bash
   docker restart search-results-summarizer
   ```

### Option 2: Using the Repository

1. Clone the repository:
   ```bash
   git clone https://github.com/chandujr/search-results-summarizer.git
   cd search-results-summarizer
   ```

2. Copy the configuration templates:
   ```bash
   cp config/config.yaml.default config/config.yaml
   cp config/.env.default config/.env
   ```

3. Edit your configuration:
   ```bash
   nano config/config.yaml
   nano config/.env
   ```

4. Build and run with Docker Compose:
   ```bash
   docker-compose up -d --build
   ```

## Configuration

### Required Settings

1. In `config/.env`, set your OpenRouter API key:
   ```
   OPENROUTER_API_KEY=your_api_key_here
   ```

2. In `config/config.yaml`, configure:
   - `ENGINE_NAME`: "searxng" or "4get"
   - `ENGINE_URL`: URL of your search engine instance (see networking note below)
   - `OPENROUTER_MODEL`: AI model to use for summarization (e.g., "mistralai/devstral-2512:free")

### Optional Settings

- `SUMMARY_MODE`: "auto" (automatic) or "manual" (button-triggered)
- `MAX_RESULTS_FOR_SUMMARY`: Number of results to summarize (default: 7)
- `MAX_TOKENS`: Maximum tokens for AI responses (default: 750)

## Docker Networking Note

You may not be able to use `localhost` for `ENGINE_URL` since from within a Docker container, `localhost` refers to the container itself, not the host machine.

To connect to your installed search engine running on your host machine:

1. **Use your host machine's IP address**:
   ```bash
   # Find your host IP
   ip route get 1.1.1.1 | awk '{print $7}'
   # Example result: 192.168.1.100
   # Set ENGINE_URL to: http://192.168.1.100:8081
   ```

2. **Use the Docker network gateway IP**:
   ```bash
   # Find your Docker network name
   docker network ls | grep search-results-summarizer
   
   # Inspect the network to find the gateway IP
   docker network inspect <network_name> | grep Gateway
   # Example result: "Gateway": "172.19.0.1"
   # Set ENGINE_URL to: http://172.19.0.1:8081
   ```

## Usage

You can access this service at `http://localhost:3000`. It will load your chosen search engine.

You may also set this as your browser's default search engine.

For Brave Browser:
1. Open Brave Settings â†’ Search Engine
2. Click "Manage search engines and site search"
3. Click "Add" button
4. Fill in:
   - **Search engine**: Search Results Summarizer
   - **Shortcut**: srs
   - **URL**: `http://localhost:3000/search?q=%s`
   - **Suggestions URL**: `http://localhost:3000/ac?q=%s` (in Brave, you have to edit the `Preferences` file of your browser profile to set this)
5. Click "Add"
6. Make it your default search engine

## Privacy

- Summaries are generated by sending search results to OpenRouter
- Your search queries and top results are sent to the AI provider
- No data is stored by this proxy
- Consider privacy implications before use

## License

AGPL
