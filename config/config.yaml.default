# NOTE: These values can be overwritten using environment variables

####################  Search engine configuration ##################################

# Options: "searxng" or "4get"
ENGINE_NAME: searxng

# URL of your search engine instance
# You may not be able to use "localhost" here, use either:
# 1. The Docker network gateway IP, e.g.,: `docker network inspect search-results-summarizer_default | grep Gateway`
# 2. OR, your host machine's IP: `ip route get 1.1.1.1 | awk '{print $7}'`
# 3. Set the port number as per the engine
ENGINE_URL: http://172.19.0.1:8888

#################### AI configuration ##############################################

# AI provider to use for summarization
# Options: "openrouter" or "ollama"
AI_PROVIDER: openrouter

# AI model to use for summarization
# For OpenRouter: Find available models at https://openrouter.ai/models
# For Ollama: Find model names using `ollama list`. e.g., "mistral-small3.2"
MODEL_ID: mistralai/mistral-small-3.1-24b-instruct:free

# Ollama instance URL (only used when AI_PROVIDER is "ollama")
# You may not be able to use "localhost" here, use either:
# 1. The Docker network gateway IP, e.g.,: `docker network inspect search-results-summarizer_default | grep Gateway`
# 2. OR, your host machine's IP: `ip route get 1.1.1.1 | awk '{print $7}'`
# 3. Set the port number as per Ollama config (usually 11434)
OLLAMA_URL: http://172.19.0.1:11434

# Maximum tokens for AI responses
MAX_TOKENS: 750

#################### Performance settings ##########################################

# Rate limit in milliseconds between requests (to avoid spam)
RATE_LIMIT_MS: 1000

# Summary generation mode
# Options:
# 1. "auto" (automatically generate summaries when conditions are met)
# 2. "manual" (only generate summary on clicking the "Show Summary" button)
SUMMARY_MODE: manual

# Number of search results to summarize
MAX_RESULTS_FOR_SUMMARY: 7

#################### Connection Settings ###########################################

# Content Security Policy modifications
# When enabled, modifies CSP headers to allow summary functionality with external instances
# Only enable if using public instances that block summary functionality
# Options: true (modify CSP), false (forward original CSP as-is)
MODIFY_CSP_HEADERS: false

# Proxy configuration
# Set to true when running behind a reverse proxy
# This allows Express to correctly use the X-Forwarded-For header for rate limiting
# Options: true (trust proxy headers), false (don't trust proxy headers)
TRUST_PROXY: false

# IP range of trusted proxy when TRUST_PROXY is enabled
# Default: "10.0.0.0/8" (Render's internal IP range)
# Other common values:
# - "172.16.0.0/12" (AWS, Google Cloud)
# - "192.168.0.0/16" (Heroku)
# - ["10.0.0.0/8", "172.16.0.0/12", "192.168.0.0/16"] (multiple ranges)
PROXY_IP_RANGE: "10.0.0.0/8"

#################### Summarization filters #########################################
# These are ignored when SUMMARY_MODE is set to "manual"

# Minimum number of keywords required in a search query to generate a summary
MIN_KEYWORD_COUNT: 3

# Minimum number of search results required to generate a summary
MIN_RESULT_COUNT: 3

# Words in search queries that prevent summarization
EXCLUDE_WORDS:
  - "github"
  - "gitlab"
  - "download"
  - "repository"
  - "repo"
  - "link"
  - "url"
  - "tool"
  - "software"
  - "app"
  - "library"
  - "framework"

# Words that override the exclude list and force summarization
EXCLUDE_OVERRIDES:
  - "what"
  - "why"
  - "how"
  - "when"
  - "where"
  - "who"
  - "which"
  - "can"
  - "will"
  - "would"
  - "could"
  - "should"
  - "is"
  - "are"
  - "was"
  - "were"
  - "do"
  - "does"
  - "did"
  - "example"
  - "explain"
  - "simplify"
  - "eli5"
